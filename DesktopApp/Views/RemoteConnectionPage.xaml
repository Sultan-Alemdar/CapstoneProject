<Page
    x:Class="DesktopApp.Views.RemoteConnectionPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Background="DarkSlateGray"
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
    DataContext="{x:Bind ViewModel}"
    xmlns:v="using:DesktopApp.Views"
    mc:Ignorable="d">

    <Grid  x:Name="ContentArea">
        <Grid.Resources>
            <Storyboard x:Name="AppBarClose" >
                <DoubleAnimation Storyboard.TargetName="AppBarGrid" FillBehavior="HoldEnd" Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransForm.Y)"  To="-73">
                    <DoubleAnimation.EasingFunction>
                        <CircleEase EasingMode="EaseOut" />
                    </DoubleAnimation.EasingFunction>
                </DoubleAnimation>

            </Storyboard>
            <Storyboard x:Name="AppBarOpen" >
                <DoubleAnimation Storyboard.TargetName="AppBarGrid" FillBehavior="HoldEnd" Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransForm.Y)" To="0">
                    <DoubleAnimation.EasingFunction>
                        <CircleEase EasingMode="EaseOut" />
                    </DoubleAnimation.EasingFunction>
                </DoubleAnimation>
            </Storyboard>

        </Grid.Resources>
        <MediaElement
            Name="PeerVideo" RealTimePlayback="True"
            RelativePanel.AlignLeftWithPanel="True"
            RelativePanel.AlignRightWithPanel="True"
            RelativePanel.AlignTopWithPanel="True"
            RelativePanel.AlignBottomWithPanel="True"
            MediaFailed="PeerVideo_MediaFailed" />

        <Grid Background="Transparent" x:Name="AppBarGrid"   HorizontalAlignment="Center" VerticalAlignment="Top" Width="auto" Height="auto" PointerEntered="AppBarGrid_PointerEntered" PointerExited="AppBarGrid_PointerExited">
            <Grid.RenderTransform>
                <TranslateTransform x:Name="Translate"  ></TranslateTransform>
            </Grid.RenderTransform>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="60" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="60" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>

                <RowDefinition Height="Auto"/>
                <RowDefinition Height="60"/>
            </Grid.RowDefinitions>
            <Border Grid.Column="1" Grid.Row="0" x:Name="AppBorder"  Margin="20,15,0,0"  BorderThickness="2" BorderBrush="White" CornerRadius="17"    >
               
                    
                <StackPanel  Margin="5,8,5,8" CornerRadius="17" Height="Auto" Width="Auto" Orientation="Horizontal" >
                    <AppBarToggleButton Icon="GoToStart" Label="Başlat" Visibility="Visible" />
                    <AppBarToggleButton IsChecked="False"  Icon="Stop" Label="Durdur"  IsEnabled="False" Foreground="DarkRed" />
                    <AppBarButton Icon="Clear" Label="Sonlandır" IsEnabled="False"/>
                    <AppBarSeparator />
                    <AppBarToggleButton Icon="Keyboard"  Label="Yakala"/>
                    <AppBarButton Icon="Orientation" Label="Yönlendir"/>
                    <AppBarSeparator  />
                    <AppBarToggleButton Icon="Message"  Label="İletiler"/>
                    <AppBarToggleButton Icon="Download" Label="İndirmeler"/>
                    <AppBarSeparator  />
                    <AppBarButton Icon="UnPin" Label="Kapat" Click="UnpinButton_Click" Visibility="{x:Bind UnPinButtonVisibility, Mode=OneWay}"/>
                    <AppBarButton Icon="Pin" Label="Sabitle"  Click="PinButton_Click" Visibility="{x:Bind PinButtonVisibility, Mode=OneWay}"/>
                </StackPanel>
               
                   
            </Border>
        </Grid>
        <Grid CornerRadius="20"
            VerticalAlignment="Bottom"
            Margin="0,0,10,50"
            HorizontalAlignment="Right"
            Background="Yellow">
            <Grid.RowDefinitions>
                <RowDefinition  Height="auto" />
                <RowDefinition Height="auto"/>
            </Grid.RowDefinitions >
            <CommandBar VerticalAlignment="Center"
                        Height="40"
                        Background="#14619C" CornerRadius="10" ClosedDisplayMode="Compact">
                <AppBarButton CornerRadius="10" Icon="BackToWindow"></AppBarButton>
            </CommandBar>
            <ScrollViewer
                x:Name="TexHistory"
                Height="250"
                Margin="0,0,0,52"
                VerticalAlignment="Bottom"
                Background="#14619C"
                
                Grid.Row="1"
                ZoomMode="Disabled"
                IsVerticalScrollChainingEnabled="True"
                ManipulationCompleted="ScrollViewer_ManipulationCompleted"
                HorizontalScrollMode="Disabled"
                HorizontalScrollBarVisibility="Disabled"
                VerticalScrollMode="Enabled"
                VerticalScrollBarVisibility="Auto">
                <ContentControl Margin="4" Content="{Binding PastInteractionStackPanel, Mode=OneWay}" VerticalAlignment="Bottom" Height="auto" Width="auto"/>
            </ScrollViewer>

            <Grid
                x:Name="MassengerPanel"
               
                VerticalAlignment="Bottom" 
                Background="Red"
                Grid.Row="1">

                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <Grid >
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="auto"/>
                        <ColumnDefinition Width="10*"/>
                        <ColumnDefinition Width="auto"/>
                        <ColumnDefinition Width="auto"/>
                    </Grid.ColumnDefinitions>
                    <Button Background="Transparent" Margin="2" Width="auto" Height="40">
                        <SymbolIcon Symbol="Favorite"/>
                    </Button>
                    <ScrollViewer Background="Transparent" Height="auto" Grid.Column="1"  ZoomMode="Disabled" VerticalAlignment="Center"  IsVerticalScrollChainingEnabled="True" ManipulationCompleted="ScrollViewer_ManipulationCompleted" HorizontalScrollMode="Disabled" HorizontalScrollBarVisibility="Disabled" VerticalScrollMode="Enabled" VerticalScrollBarVisibility="Auto">
                        <RichEditBox FontSize="20" Margin="4" MinHeight="20" MaxHeight="400" MinWidth="300" />
                    </ScrollViewer>
                    <Button  Background="Transparent" Grid.Column="2" Margin="2" Width="auto" Height="40">
                        <SymbolIcon Symbol="Attach"/>
                    </Button>
                    <Button Background="Transparent" Grid.Column="3" Margin="6" Width="auto" Height="40">
                        <SymbolIcon Symbol="Send"/>
                    </Button>
                </Grid>
            </Grid>
        </Grid>
    </Grid>

</Page>
